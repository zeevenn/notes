import{_ as s,c as a,e,o as t}from"./app-BMk1V0Kr.js";const p={};function c(o,n){return t(),a("div",null,[...n[0]||(n[0]=[e(`<h2 id="继承-inheritance" tabindex="-1"><a class="header-anchor" href="#继承-inheritance"><span>继承（Inheritance）</span></a></h2><p>使用 <code>extends</code> 关键字实现继承。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; is eating&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用父类构造方法</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; is barking&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="与-typescript-的区别" tabindex="-1"><a class="header-anchor" href="#与-typescript-的区别"><span>与 TypeScript 的区别</span></a></h3><table><thead><tr><th>特性</th><th>Java</th><th>TypeScript</th></tr></thead><tbody><tr><td>多继承</td><td>❌ 只支持单继承</td><td>❌ 只支持单继承</td></tr><tr><td>接口多实现</td><td>✅ 支持实现多个接口</td><td>✅ 支持</td></tr><tr><td>根类/原型</td><td>✅ 所有类隐式继承 <code>Object</code></td><td>✅ 所有对象继承自 <code>Object.prototype</code></td></tr><tr><td>访问修饰符</td><td><code>public/protected/private</code>（运行时生效）</td><td><code>public/protected/private</code>（仅编译时检查）</td></tr></tbody></table><h3 id="object-类" tabindex="-1"><a class="header-anchor" href="#object-类"><span>Object 类</span></a></h3><p>所有 Java 类都<strong>隐式继承</strong> <code>Object</code> 类。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// 隐式 extends Object</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常用方法：<code>toString()</code>、<code>equals()</code>、<code>hashCode()</code>、<code>getClass()</code> 等。</p><h2 id="方法重写-override" tabindex="-1"><a class="header-anchor" href="#方法重写-override"><span>方法重写（Override）</span></a></h2><p>子类可以重写父类的方法，提供自己的实现。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Animal sound&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>  <span class="token comment">// 推荐使用注解，编译器会检查方法签名</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Woof!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方法重写的规则" tabindex="-1"><a class="header-anchor" href="#方法重写的规则"><span>方法重写的规则</span></a></h3><ol><li><strong>方法签名必须相同</strong>（方法名、参数列表）</li><li><strong>返回类型必须相同或是协变类型</strong>（子类型）</li><li><strong>访问修饰符不能更严格</strong>（可以更宽松，如 <code>protected</code> → <code>public</code>）</li><li><strong>不能重写 <code>private</code>、<code>final</code>、<code>static</code> 方法</strong></li></ol><h3 id="方法重写-vs-方法重载" tabindex="-1"><a class="header-anchor" href="#方法重写-vs-方法重载"><span>方法重写 vs 方法重载</span></a></h3><table><thead><tr><th>特性</th><th>方法重写（Override）</th><th>方法重载（Overload）</th></tr></thead><tbody><tr><td>定义</td><td>子类重新实现父类的方法</td><td>同一个类中多个同名方法</td></tr><tr><td>参数列表</td><td>必须相同</td><td>必须不同</td></tr><tr><td>返回类型</td><td>相同或协变</td><td>可以不同</td></tr><tr><td>发生时机</td><td>运行时（动态绑定）</td><td>编译时（静态绑定）</td></tr></tbody></table><h2 id="super-关键字" tabindex="-1"><a class="header-anchor" href="#super-关键字"><span>super 关键字</span></a></h2><p><code>super</code> 关键字用于引用父类的成员。</p><h3 id="调用父类构造方法" tabindex="-1"><a class="header-anchor" href="#调用父类构造方法"><span>调用父类构造方法</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 必须是第一条语句</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>super()</code> 必须是构造方法的<strong>第一条语句</strong>。</p></div><h3 id="访问父类方法" tabindex="-1"><a class="header-anchor" href="#访问父类方法"><span>访问父类方法</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用父类的 eat 方法</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Dog is eating dog food&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="访问父类字段" tabindex="-1"><a class="header-anchor" href="#访问父类字段"><span>访问父类字段</span></a></h3><p>当子类字段与父类字段同名时，使用 <code>super</code> 访问父类字段。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 父类字段</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="多态-polymorphism" tabindex="-1"><a class="header-anchor" href="#多态-polymorphism"><span>多态（Polymorphism）</span></a></h2><p>多态是指<strong>同一个引用类型</strong>，在指向不同对象时，调用相同的方法会产生不同的行为。</p><h3 id="多态的前提条件" tabindex="-1"><a class="header-anchor" href="#多态的前提条件"><span>多态的前提条件</span></a></h3><ol><li><strong>必须有继承关系</strong></li><li><strong>子类必须重写父类的方法</strong></li><li><strong>父类引用指向子类对象</strong></li></ol><h3 id="多态的基本示例" tabindex="-1"><a class="header-anchor" href="#多态的基本示例"><span>多态的基本示例</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 父类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Animal makes a sound&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子类 1</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Dog barks: Woof!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子类 2</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Cat meows: Meow!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 多态应用</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 父类引用指向不同的子类对象</span>
        <span class="token class-name">Animal</span> animal1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 多态</span>
        <span class="token class-name">Animal</span> animal2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 多态</span>

        animal1<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：Dog barks: Woof!</span>
        animal2<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：Cat meows: Meow!</span>

        <span class="token comment">// 同一个方法调用，产生不同的行为</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="多态的实际应用" tabindex="-1"><a class="header-anchor" href="#多态的实际应用"><span>多态的实际应用</span></a></h3><p>多态最大的好处是可以<strong>编写通用的代码</strong>，处理不同类型的对象。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnimalFeeder</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这个方法可以喂养任何 Animal 类型的动物</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">feed</span><span class="token punctuation">(</span><span class="token class-name">Animal</span> animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Feeding the animal...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 不同动物会发出不同声音</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AnimalFeeder</span> feeder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnimalFeeder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Bird</span> bird <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        feeder<span class="token punctuation">.</span><span class="token function">feed</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 传入 Dog</span>
        feeder<span class="token punctuation">.</span><span class="token function">feed</span><span class="token punctuation">(</span>cat<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 传入 Cat</span>
        feeder<span class="token punctuation">.</span><span class="token function">feed</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 传入 Bird</span>

        <span class="token comment">// 同一个 feed 方法，可以处理不同类型的动物</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>数组/集合中的多态：</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 父类数组可以存储不同的子类对象</span>
<span class="token class-name">Animal</span><span class="token punctuation">[</span><span class="token punctuation">]</span> animals <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Animal</span> animal <span class="token operator">:</span> animals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 每个动物调用自己的 makeSound 方法</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出：</span>
<span class="token comment">// Dog barks: Woof!</span>
<span class="token comment">// Cat meows: Meow!</span>
<span class="token comment">// Bird chirps: Tweet!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="向上转型-upcasting" tabindex="-1"><a class="header-anchor" href="#向上转型-upcasting"><span>向上转型（Upcasting）</span></a></h3><p>子类对象赋值给父类引用，称为<strong>向上转型</strong>，是<strong>自动</strong>的。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Animal</span> animal <span class="token operator">=</span> dog<span class="token punctuation">;</span>  <span class="token comment">// 向上转型（自动）</span>

animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ✅ 调用 Dog 的 makeSound()</span>
<span class="token comment">// animal.bark();    // ❌ 编译错误：Animal 类型没有 bark() 方法</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>限制：</strong> 虽然 <code>animal</code> 实际指向 <code>Dog</code> 对象，但编译器只知道它是 <code>Animal</code> 类型，所以只能调用 <code>Animal</code> 中定义的方法。</p><h3 id="向下转型-downcasting" tabindex="-1"><a class="header-anchor" href="#向下转型-downcasting"><span>向下转型（Downcasting）</span></a></h3><p>父类引用转换为子类引用，称为<strong>向下转型</strong>，需要<strong>显式转换</strong>。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 向上转型</span>
<span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>     <span class="token comment">// 向下转型（显式）</span>
dog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// ✅ 现在可以调用 Dog 的方法了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>危险：</strong> 如果 <code>animal</code> 实际不是 <code>Dog</code> 类型，会抛出 <code>ClassCastException</code>。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>  <span class="token comment">// ❌ 运行时抛出 ClassCastException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="instanceof-关键字" tabindex="-1"><a class="header-anchor" href="#instanceof-关键字"><span>instanceof 关键字</span></a></h3><p>在向下转型前，使用 <code>instanceof</code> 检查对象的实际类型。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>
    dog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 安全</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>
    cat<span class="token punctuation">.</span><span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 不会执行，因为 animal 不是 Cat</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 16+ 模式匹配：</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 自动转换，无需手动类型转换</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 自动转换为 Dog 类型</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="动态绑定-运行时多态" tabindex="-1"><a class="header-anchor" href="#动态绑定-运行时多态"><span>动态绑定（运行时多态）</span></a></h3><p><strong>动态绑定</strong>是指 Java 在<strong>运行时</strong>根据对象的<strong>实际类型</strong>决定调用哪个方法，而不是在编译时就确定。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// animal 的编译时类型是 Animal</span>
<span class="token comment">// animal 的运行时类型是 Dog</span>

animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 运行时调用 Dog 的 makeSound()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编译时 vs 运行时：</strong></p><ul><li><strong>编译时</strong>：编译器根据引用类型（<code>Animal</code>）检查方法是否存在</li><li><strong>运行时</strong>：JVM 根据对象的实际类型（<code>Dog</code>）决定调用哪个方法</li></ul><p><strong>动态绑定 vs 向上转型的区别：</strong></p><table><thead><tr><th>概念</th><th>含义</th><th>发生时机</th></tr></thead><tbody><tr><td>向上转型</td><td>子类对象赋值给父类引用（类型转换）</td><td>编译时</td></tr><tr><td>动态绑定</td><td>运行时根据对象实际类型调用方法（机制）</td><td>运行时</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 向上转型：类型转换</span>
<span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Dog 类型 → Animal 类型</span>

<span class="token comment">// 动态绑定：方法调用机制</span>
animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 编译时检查 Animal 有没有 makeSound()</span>
                     <span class="token comment">// 运行时调用 Dog 的 makeSound()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>向上转型是多态的前提，动态绑定是多态的实现机制。</strong></p><h3 id="多态的好处" tabindex="-1"><a class="header-anchor" href="#多态的好处"><span>多态的好处</span></a></h3><ol><li><p><strong>提高代码的扩展性</strong>：新增子类无需修改现有代码</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 新增一个 Bird 类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bird chirps: Tweet!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 原有的 feed 方法无需修改，自动支持 Bird</span>
feeder<span class="token punctuation">.</span><span class="token function">feed</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>提高代码的灵活性</strong>：同一段代码可以处理不同类型的对象</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processAnimals</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">[</span><span class="token punctuation">]</span> animals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Animal</span> animal <span class="token operator">:</span> animals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        animal<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 可以处理任何 Animal 子类</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>降低代码的耦合度</strong>：依赖抽象（父类），而不是具体实现（子类）</p></li></ol><h2 id="构造方法链" tabindex="-1"><a class="header-anchor" href="#构造方法链"><span>构造方法链</span></a></h2><p>创建子类对象时，会<strong>自动调用父类的构造方法</strong>。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Parent constructor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// super();  // 隐式调用，编译器自动添加</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Child constructor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>如果父类没有无参构造方法，子类构造方法必须显式调用 <code>super(参数)</code>。</p></div><h3 id="初始化顺序" tabindex="-1"><a class="header-anchor" href="#初始化顺序"><span>初始化顺序</span></a></h3><p>创建子类对象的完整初始化顺序：</p><ol><li>父类静态变量 + 静态代码块（类加载时，只执行一次）</li><li>子类静态变量 + 静态代码块（类加载时，只执行一次）</li><li>父类实例变量 + 实例代码块</li><li>父类构造方法</li><li>子类实例变量 + 实例代码块</li><li>子类构造方法</li></ol><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><ol><li><strong>优先使用组合而非继承</strong>：如果只是为了复用代码，考虑使用组合（Composition）</li><li><strong>继承用于 &quot;is-a&quot; 关系</strong>：Dog is an Animal（继承），Car has an Engine（组合）</li><li><strong>使用 <code>@Override</code> 注解</strong>：明确标识重写方法，避免错误</li><li><strong>避免继承层次过深</strong>：一般不超过 3-4 层，否则代码难以维护</li><li><strong>父类构造方法</strong>：如果父类没有无参构造方法，子类必须显式调用 <code>super()</code></li><li><strong>向下转型前使用 <code>instanceof</code></strong>：避免 <code>ClassCastException</code></li><li><strong>protected 用于继承</strong>：需要被子类访问的成员使用 <code>protected</code></li></ol>`,71)])])}const i=s(p,[["render",c],["__file","07-inheritance-and-polymorphism.html.vue"]]),u=JSON.parse('{"path":"/backend/java/language/07-inheritance-and-polymorphism.html","title":"Inheritance and Polymorphism","lang":"zh-CN","frontmatter":{"title":"Inheritance and Polymorphism","date":"2026-02-02T00:00:00.000Z","category":"java","description":"继承（Inheritance） 使用 extends 关键字实现继承。 与 TypeScript 的区别 Object 类 所有 Java 类都隐式继承 Object 类。 常用方法：toString()、equals()、hashCode()、getClass() 等。 方法重写（Override） 子类可以重写父类的方法，提供自己的实现。 方法重写...","head":[["meta",{"property":"og:url","content":"https://dribble-njr.github.io/blog/blog/backend/java/language/07-inheritance-and-polymorphism.html"}],["meta",{"property":"og:title","content":"Inheritance and Polymorphism"}],["meta",{"property":"og:description","content":"继承（Inheritance） 使用 extends 关键字实现继承。 与 TypeScript 的区别 Object 类 所有 Java 类都隐式继承 Object 类。 常用方法：toString()、equals()、hashCode()、getClass() 等。 方法重写（Override） 子类可以重写父类的方法，提供自己的实现。 方法重写..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-03T06:10:46.000Z"}],["meta",{"property":"article:author","content":"njr"}],["meta",{"property":"article:published_time","content":"2026-02-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-03T06:10:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Inheritance and Polymorphism\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-02-02T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-03T06:10:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"njr\\",\\"url\\":\\"https://github.com/dribble-njr/blog\\",\\"email\\":\\"wzw15292257101@163.com\\"}]}"]]},"headers":[{"level":2,"title":"1 继承（Inheritance）","slug":"继承-inheritance","link":"#继承-inheritance","children":[{"level":3,"title":"1.1 与 TypeScript 的区别","slug":"与-typescript-的区别","link":"#与-typescript-的区别","children":[]},{"level":3,"title":"1.2 Object 类","slug":"object-类","link":"#object-类","children":[]}]},{"level":2,"title":"2 方法重写（Override）","slug":"方法重写-override","link":"#方法重写-override","children":[{"level":3,"title":"2.1 方法重写的规则","slug":"方法重写的规则","link":"#方法重写的规则","children":[]},{"level":3,"title":"2.2 方法重写 vs 方法重载","slug":"方法重写-vs-方法重载","link":"#方法重写-vs-方法重载","children":[]}]},{"level":2,"title":"3 super 关键字","slug":"super-关键字","link":"#super-关键字","children":[{"level":3,"title":"3.1 调用父类构造方法","slug":"调用父类构造方法","link":"#调用父类构造方法","children":[]},{"level":3,"title":"3.2 访问父类方法","slug":"访问父类方法","link":"#访问父类方法","children":[]},{"level":3,"title":"3.3 访问父类字段","slug":"访问父类字段","link":"#访问父类字段","children":[]}]},{"level":2,"title":"4 多态（Polymorphism）","slug":"多态-polymorphism","link":"#多态-polymorphism","children":[{"level":3,"title":"4.1 多态的前提条件","slug":"多态的前提条件","link":"#多态的前提条件","children":[]},{"level":3,"title":"4.2 多态的基本示例","slug":"多态的基本示例","link":"#多态的基本示例","children":[]},{"level":3,"title":"4.3 多态的实际应用","slug":"多态的实际应用","link":"#多态的实际应用","children":[]},{"level":3,"title":"4.4 向上转型（Upcasting）","slug":"向上转型-upcasting","link":"#向上转型-upcasting","children":[]},{"level":3,"title":"4.5 向下转型（Downcasting）","slug":"向下转型-downcasting","link":"#向下转型-downcasting","children":[]},{"level":3,"title":"4.6 instanceof 关键字","slug":"instanceof-关键字","link":"#instanceof-关键字","children":[]},{"level":3,"title":"4.7 动态绑定（运行时多态）","slug":"动态绑定-运行时多态","link":"#动态绑定-运行时多态","children":[]},{"level":3,"title":"4.8 多态的好处","slug":"多态的好处","link":"#多态的好处","children":[]}]},{"level":2,"title":"5 构造方法链","slug":"构造方法链","link":"#构造方法链","children":[{"level":3,"title":"5.1 初始化顺序","slug":"初始化顺序","link":"#初始化顺序","children":[]}]},{"level":2,"title":"6 最佳实践","slug":"最佳实践","link":"#最佳实践","children":[]}],"git":{"createdTime":1770029037000,"updatedTime":1770099046000,"contributors":[{"name":"ziven","email":"contact@ziven.me","commits":2}]},"readingTime":{"minutes":6.56,"words":1969},"filePathRelative":"backend/java/language/07-inheritance-and-polymorphism.md","localizedDate":"2026年2月2日","excerpt":"","autoDesc":true}');export{i as comp,u as data};
